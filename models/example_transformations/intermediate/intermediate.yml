version: 2
models:
  - name: league_spend_by_season
    description: >-
      This model aggregates stg_team_spend_by_season.sql. It calculates total
      league spending and groups the data by season for the 1990 - 2023 
      seasons.
    columns:
      - name: season
        description: >-
          The NBA season for which the financial data is applicable. The
          primary key for this model.
        meta:
          dimension:
            type: string
      - name: league_payroll
        description: >-
          Total league expenditure on player salaries for the specified
          season.
        meta:
          dimension:
            type: number
      - name: active_payroll
        description: >-
          Total active payroll, indicating the sum of salaries for currently
          active players.
        meta:
          dimension:
            type: number
      - name: dead_payroll
        description: >-
          Total dead payroll, indicating the sum of salaries for players no
          longer active on teams.
        meta:
          dimension:
            type: number
      - name: luxury_tax_payroll
        description: Total payroll amount that is subject to luxury tax.
        meta:
          dimension:
            type: number
      - name: luxury_tax_bill
        description: >-
          The total amount of luxury tax teams were liable for in the 
          specified season.
        meta:
          dimension:
            type: number          
  - name: league_stats_by_season
    description: >-
      This model aggregates certain columns from 
      stg_team_stats_by_season.sql. It provides season-by-season statistical 
      data for the NBA at the league-level from 1946 - 2023.
    columns:
      - name: season
        description: The NBA season for the corresponding statistics.
        meta:
          dimension:
            type: string
      - name: games_played
        description: The total number of regular season games played by teams.
        meta:
          dimension:
            type: number
      - name: wins
        description: The number of wins in regular-season games.
        meta:
          dimension:
            type: number
      - name: losses
        description: The number of losses in regular-season games.
        meta:
          dimension:
            type: number
      - name: playoff_wins
        description: The number of wins in playoff games.
        meta:
          dimension:
            type: number
      - name: playoff_losses
        description: The number of losses in playoff games.
        meta:
          dimension:
            type: number
      - name: field_goals_made
        description: >-
          Total number of field goals made during the regular season.
        meta:
          dimension:
            type: number
      - name: field_goals_attempted
        description: >-
          Total number of field goals attempted during the regular season.
        meta:
          dimension:
            type: number
      - name: three_pointers_made
        description: >-
          Total number of three-pointers made during the regular season.
        meta:
          dimension:
            type: number
      - name: three_pointers_attempted
        description: >-
          Total number of three-pointers attempted during the regular season.
        meta:
          dimension:
            type: number
      - name: free_throws_made
        description: >-
          Total number of free throws made during the regular season.
        meta:
          dimension:
            type: number
      - name: free_throws_attempted
        description: >-
          Total number of free throws attempted during the regular season.
        meta:
          dimension:
            type: number
      - name: offensive_rebounds
        description: >-
          Total number of offensive rebounds during the regular season.
        meta:
          dimension:
            type: number
      - name: defensive_rebounds
        description: >-
          Total number of defensive rebounds during the regular season.
        meta:
          dimension:
            type: number
      - name: total_rebounds
        description: >-
          Total number of rebounds (offensive and defensive) during the 
          regular season.
        meta:
          dimension:
            type: number
      - name: assists
        description: Total number of assists during the regular season.
        meta:
          dimension:
            type: number
      - name: personal_fouls
        description: Total number of personal fouls during the regular season.
        meta:
          dimension:
            type: number
      - name: steals
        description: Total number of steals during the regular season.
        meta:
          dimension:
            type: number
      - name: turnovers
        description: Total number of turnovers during the regular season.
        meta:
          dimension:
            type: number
      - name: blocks
        description: Total number of blocks during the regular season.
        meta:
          dimension:
            type: number
      - name: points
        description: Total number of points scored during the regular season.
        meta:
          dimension:
            type: number
  - name: player_game_logs_agg_example
    description: >-
      This model aggregates stg_player_game_logs.sql for regular season and
      playoff games.  It calculates various statistics for each player during a
      season, And groups the data by season (example: 2022-23) and game_type
      (example: Regular Season, Playoffs)
    columns:
      - name: player_id
        description: Unique identifier for the player.
        meta:
          dimension:
            type: number
      - name: player_name
        description: Full name of the player.
        meta:
          dimension:
            type: string
      - name: season
        description: NBA season during which the game was played.
        meta:
          dimension:
            type: string
      - name: game_type
        description: Type of game, e.g., Regular Season, Playoffs.
        meta:
          dimension:
            type: string
      - name: field_goals_made
        description: Total field goals made by the player.
        meta:
          dimension:
            type: number
      - name: field_goals_attempted
        description: Total field goals attempted by the player.
        meta:
          dimension:
            type: number
      - name: field_goal_pct
        description: Field goal percentage for the player in the game.
        meta:
          dimension:
            type: number
      - name: three_point_made
        description: Total three-point field goals made by the player.
        meta:
          dimension:
            type: number
      - name: three_point_attempted
        description: Total three-point field goals attempted by the player.
        meta:
          dimension:
            type: number
      - name: three_point_pct
        description: Three-point field goal percentage for the player in the game.
        meta:
          dimension:
            type: number
      - name: free_throws_made
        description: Total free throws made by the player.
        meta:
          dimension:
            type: number
      - name: free_throws_attempted
        description: Total free throws attempted by the player.
        meta:
          dimension:
            type: number
      - name: free_throw_pct
        description: Free throw percentage for the player in the game.
        meta:
          dimension:
            type: number
      - name: total_rebounds
        description: Total rebounds grabbed by the player.
        meta:
          dimension:
            type: number
      - name: offensive_rebounds
        description: Total offensive rebounds grabbed by the player.
        meta:
          dimension:
            type: number
      - name: defensive_rebounds
        description: Total defensive rebounds grabbed by the player.
        meta:
          dimension:
            type: number
      - name: assists
        description: Total assists made by the player.
        meta:
          dimension:
            type: number
      - name: blocks
        description: Total blocks made by the player.
        meta:
          dimension:
            type: number
      - name: steals
        description: Total steals made by the player.
        meta:
          dimension:
            type: number
      - name: personal_fouls
        description: Total personal fouls committed by the player.
        meta:
          dimension:
            type: number
      - name: turnovers
        description: Total turnovers committed by the player.
        meta:
          dimension:
            type: number
      - name: total_points
        description: Total points scored by the player.
        meta:
          dimension:
            type: number
      - name: avg_points
        description: Avg points scored by the player.
        meta:
          dimension:
            type: number
      - name: plus_minus
        description: >-
          Plus-minus statistic for the player, indicating the point differential
          when the player was on the court.
        meta:
          dimension:
            type: number
      - name: mins_played
        description: Total minutes played by the player in the game.
        meta:
          dimension:
            type: number
      - name: loss_counter
        description: Count of losses when the player participated.
        meta:
          dimension:
            type: number
      - name: win_counter
        description: Count of wins when the player participated.
        meta:
          dimension:
            type: number
      - name: games_played_counter
        description: Count of games played (excluding games with 0 minutes played).
        meta:
          dimension:
            type: number
